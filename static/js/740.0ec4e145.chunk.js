"use strict";(self.webpackChunkreact_tailwind_css_starter_pack=self.webpackChunkreact_tailwind_css_starter_pack||[]).push([[740],{6682:(e,t,s)=>{s.d(t,{A:()=>a});var l=s(579);function a(e){let{text:t,onclick:s,children:a,disabled:r,outline:i,customClasses:o,type:n}=e;return(0,l.jsx)("button",{disabled:r,onClick:s,className:"flex items-center hover:scale-95 transition duration-300 ".concat(i?"border border-yellow-50 bg-transparent text-white":"bg-blue-50 text-black"," cursor-pointer gap-x-2 rounded-md py-2 px-5 font-semibold text-richblack-900 ").concat(o),type:n,children:a?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"".concat(i&&"text-yellow-50"),children:t}),a]}):t})}},7740:(e,t,s)=>{s.r(t),s.d(t,{default:()=>x});var l=s(5043),a=s(6988),r=s(3216),i=s(7115),o=s.n(i),n=(s(6473),s(4412)),c=s(184),d=s(6682),u=s(2339),p=s(579);const x=()=>{const[e,t]=(0,l.useState)(!1),[s,i]=(0,l.useState)(0),[x,m]=(0,l.useState)(""),[h,f]=(0,l.useState)(""),[g,b]=(0,l.useState)(""),[y,j]=(0,l.useState)(""),[v,w]=(0,l.useState)(!1),N=(0,r.Zp)(),{setEnroll:k,enroll:C,mainDataOfCourse:_,setMainDataOfCourse:A,editId:S,toggle:q,settoggle:R}=(0,l.useContext)(a.p),O=(new Date).getTime().toString();function L(e){const{name:t,value:s,files:l}=e.target;k((e=>({...e,[t]:l?l[0]:s}))),m((()=>({[t]:l?l[0]:s})))}function E(e){e.preventDefault(),C?q?(k((e=>({...e,id:O,video:y}))),A((e=>[...e,{...C,id:O,image:g,video:y}])),u.Ay.success("Course Added Successfully"),N("/dashboard/mycourses"),k("")):(D(C.image)?A(_.map((e=>e.id===S?{...e,title:C.title,about:C.about,image:C.image,video:y}:e))):A(_.map((e=>e.id===S?{...e,title:C.title,about:C.about,image:g,video:y}:e))),k(""),R(!0),N("/dashboard/mycourses")):alert("please")}(0,l.useEffect)((()=>{localStorage.setItem("Enroll",JSON.stringify(_)),o().init({duration:1e3})}),[_]),(0,l.useEffect)((()=>{u.Ay.success("Video file Selected please click on upload video")}),[h]);function D(e){if("string"==typeof e){const t=["jpg","jpeg","png","gif","bmp"],s=e.split(".").pop().toLowerCase();return t.includes(s)}return 0}return(0,p.jsxs)(p.Fragment,{children:[!v&&(0,p.jsx)("div",{className:"border w-11/12 mx-auto rounded-xl bg-pure-greys-900","data-aos":"fade-up",children:(0,p.jsxs)("div",{className:"w-11/12 mx-auto py-5",children:[(0,p.jsxs)("div",{className:"py-[20px] text-center",children:[(0,p.jsx)("h2",{className:"text-white text-center font-bold text-3xl",children:"Create course"}),(0,p.jsxs)("p",{className:"text-red-100 text-center font-bold text-md",children:[(0,p.jsx)("sup",{children:"*"})," Image size should be less than 500 kb"]}),(0,p.jsxs)("p",{className:"text-red-100 text-center font-bold text-md",children:[" ",(0,p.jsx)("sup",{children:"*"}),"video size should be around 1 mb"]})]}),(0,p.jsx)("form",{className:"gap-y-5",children:(0,p.jsxs)("div",{className:"gap-y-[20px] flex flex-col",children:[(0,p.jsxs)("div",{className:"flex bg-pure-greys-700 justify-between gap-y-3  gap-x-4 enrollbox border-b-white",children:[(0,p.jsxs)("div",{className:" w-full h-full  relative",onClick:()=>document.querySelector(".input_field").click(),children:[q?C.image?(0,p.jsx)("img",{src:URL.createObjectURL(C.image),alt:"Not Available",className:" w-full rounded-md h-full object-fill"}):(0,p.jsx)("div",{className:"w-full h-full flex justify-center items-center text-white text-[100px] bg-pure-greys-600",children:(0,p.jsx)(c.BzO,{})}):C.image?D(C.image)?(0,p.jsx)("img",{src:C.image,alt:"No available",className:" w-full rounded-md h-full object-fill"}):(0,p.jsx)("img",{src:URL.createObjectURL(C.image),alt:"not Available",className:" w-full h-full aspect-square object-fill"}):(0,p.jsx)("div",{className:"w-full h-full flex justify-center items-center text-white text-[100px] bg-pure-greys-600",children:(0,p.jsx)(c.BzO,{})}),(0,p.jsx)("input",{type:"file",name:"image",accept:"image/*",className:"text-white  input_field absolute top-9 hidden",onChange:L})]}),(0,p.jsx)("div",{className:"flex items-center justify-center mr-7",children:(0,p.jsx)(d.A,{onclick:function(e){e.preventDefault(),async function(){try{w(!0);let e=new FormData;e.append("file",x.image),e.append("upload_preset","pankaj"),e.append("cloud_name","dqr1ihw8d");const t=new XMLHttpRequest;t.open("POST","https://api.cloudinary.com/v1_1/dqr1ihw8d/image/upload",!0),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.upload.onprogress=e=>{if(e.lengthComputable){const t=Math.round(100*e.loaded/e.total);i(t)}},t.onreadystatechange=()=>{if(t.readyState===XMLHttpRequest.DONE)if(200===t.status){const e=JSON.parse(t.responseText);D(e.secure_url)?(b(e.secure_url),w(!1),u.Ay.success("Image uploaded"),i(0)):(w(!1),u.Ay.error("please select other file or image"),i(0))}else w(!1),u.Ay.error(" Error ! please select image again"),i(0)},t.send(e)}catch(e){w(!1),u.Ay.error(" Error ! please select image again"),i(0)}}()},outline:!0,children:"UploadImage"})})]}),(0,p.jsxs)("div",{className:"  flex bg-pure-greys-700  justify-between enrollbox gap-y-3 gap-x-5 border-b-white",children:[(0,p.jsxs)("div",{className:"w-full h-full  ",onClick:()=>document.querySelector(".videoinput_field").click(),children:[(0,p.jsxs)("video",{className:"h-full w-full",controls:!0,autoPlay:e,onClick:()=>{t((e=>!e))},style:{cursor:"pointer"},children:[(0,p.jsx)("source",{src:C.video,type:"video/mp4"}),"Your browser does not support the video tag."]},C.video),(0,p.jsx)("input",{type:"file",name:"video",accept:"video/*",className:"text-white videoinput_field hidden",onChange:function(e){f(e.target.files[0])}})]}),(0,p.jsx)("div",{className:"flex items-center justify-center mr-7",children:(0,p.jsx)(d.A,{onclick:function(e){e.preventDefault(),(async()=>{try{if(!h)return void u.Ay.alert("Please select a video file.");w(!0);const e=new FormData;e.append("file",h),e.append("upload_preset","pankaj");const t=new XMLHttpRequest;t.open("POST","https://api.cloudinary.com/v1_1/dqr1ihw8d/video/upload",!0),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.upload.onprogress=e=>{if(e.lengthComputable){const t=Math.round(100*e.loaded/e.total);i(t)}},t.onreadystatechange=()=>{if(t.readyState===XMLHttpRequest.DONE)if(200===t.status){const e=JSON.parse(t.responseText);!function(e){if("string"==typeof e){const t=["mp4"],s=e.split(".").pop().toLowerCase();return t.includes(s)}return 0}(e.secure_url)?(w(!1),u.Ay.error("please select other file or video"),i(0)):(j(e.secure_url),k((t=>({...t,video:e.secure_url}))),w(!1),u.Ay.success("Video uploaded"),i(0))}else w(!1),u.Ay.error(" Error ! please select video again"),i(0)},t.send(e)}catch(e){w(!1),u.Ay.error(" Error ! please select image again"),i(0)}})()},outline:!0,children:"UploadVideo"})})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{htmlFor:"title",className:"text-white",children:"Title:"}),(0,p.jsx)("br",{}),(0,p.jsx)("input",{value:C.title,onChange:L,type:"text",name:"title",id:"tie",className:"bg-pure-greys-700 text-white w-full py-[12px] rounded-xl border-b border-richblack-600 "})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{htmlFor:"about",className:"text-white ",children:"About Course:"}),(0,p.jsx)("br",{}),(0,p.jsx)("textarea",{value:C.about,onChange:L,id:"tie",name:"about",className:"bg-pure-greys-700 w-full py-[12px] rounded-xl border-b-richblack-600  text-white cursor-text",required:!0})]}),(0,p.jsx)("div",{children:q?(0,p.jsx)(d.A,{outline:!0,className:"text-white",text:"Submit",onclick:E,type:"submit"}):(0,p.jsx)(d.A,{className:"text-white",color:"yellow",text:"Edit Course",onclick:E,type:"submit"})})]})})]})}),v&&(0,p.jsxs)("div",{className:"w-11/12 h-[500px] flex justify-center items-center",children:[(0,p.jsxs)("p",{className:"text-white",children:[" Uploading ... ",(0,p.jsxs)("span",{className:"text-blue-100",children:[s," %"]}),"  "]}),(0,p.jsx)(n.A,{})]})]})}}}]);
//# sourceMappingURL=740.0ec4e145.chunk.js.map